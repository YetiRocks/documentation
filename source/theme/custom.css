/**
 * Yeti Custom mdBook Theme
 * Matches yetirocks.com and yeti-builder UI design
 */

:root {
  /* Core Colors - From builder UI variables.css */
  --color-black: #121212;
  --color-white: #dddddd;
  --color-grey: #666666;

  /* Status Colors */
  --color-success: #ff00ff;
  --color-warning: #d7ba7d;
  --color-error: #d16969;
  --color-info: #569cd6;

  /* Overlays */
  --color-black-overlay: rgba(0, 0, 0, 0.2);
  --color-white-overlay: rgba(255, 255, 255, 0.06);

  /* Spacing Scale */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-12: 3rem;

  /* Typography */
  --font-family-base: 'Ubuntu', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  --font-family-mono: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', 'Courier New', monospace;

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;

  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ===== Base Theme Overrides ===== */

/* Force all backgrounds to #121212 black, overriding coal theme greys */
.coal {
  --bg: #121212;
  --sidebar-bg: #121212;
  --links: #ff00ff;
}

html {
  font-family: var(--font-family-base);
  color: var(--color-white);
}

body {
  background: var(--color-black);
  color: var(--color-white);
}

.page-wrapper,
.page {
  background: var(--color-black) !important;
}

/* ===== Sidebar Styling ===== */

.sidebar {
  background: var(--color-black);
  border-right: 1px solid var(--color-white-overlay);
  top: 73px !important;  /* Push below yeti-header */
  bottom: 0;
}

.sidebar-scrollbox {
  background: var(--color-black);
}

/* Chapter list container ‚Äî no hover on the ol itself, no numbers */
.sidebar ol.chapter {
  padding: 0;
  margin: 0;
  list-style: none;
}

.sidebar ol.chapter li {
  list-style: none;
}

.sidebar ol.chapter ol {
  list-style: none;
}

.sidebar li {
  list-style: none;
  margin: var(--space-1) 0;
}

.sidebar li a {
  display: block;
  color: var(--color-white) !important;
  text-decoration: none;
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-sm);
  transition: all var(--transition-fast);
}

/* Hide mdBook's chapter numbers (rendered as <strong> inside links) */
.sidebar .chapter-item a strong {
  display: none;
}

.sidebar li a:hover {
  color: var(--color-white) !important;
}

.sidebar li.active > a {
  color: var(--color-white) !important;
  font-weight: 200;
}

/* Hide the default mdBook resize handle */
.sidebar .sidebar-resize-handle {
  display: none !important;
}

/* Hamburger toggle ‚Äî fixed, always visible */
.sidebar-hamburger {
  position: fixed;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  z-index: 250;
  width: 32px;
  height: 40px;
  display: flex !important;
  align-items: center;
  justify-content: center;
  background: var(--color-black);
  border: 1px solid var(--color-white-overlay);
  border-left: none;
  border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
  color: var(--color-grey);
  cursor: pointer;
  transition: left var(--transition-base), background var(--transition-fast), color var(--transition-fast);
  font-size: 16px;
}

.sidebar-hamburger:hover {
  background: rgba(255, 255, 255, 0.08);
  color: var(--color-white);
}

/* When sidebar is open (checkbox checked), attach to sidebar's right edge */
#sidebar-toggle-anchor:checked ~ .sidebar-hamburger {
  left: var(--sidebar-width, 300px);
}

/* Chapter separators (---) */
.sidebar .spacer {
  height: 1px;
  background: var(--color-white-overlay);
  margin: var(--space-4) 0;
}

/* ===== Content Area ===== */

.content {
  background: var(--color-black);
  color: var(--color-white);
  padding: var(--space-8);
  padding-top: 64px !important;
  max-width: 900px;
  margin: 0 auto;
}

main {
  color: var(--color-white);
}

/* ===== Typography ===== */

h1, h2, h3, h4, h5, h6 {
  color: var(--color-white) !important;
  font-weight: 200;
  font-size: 3rem;
  margin-top: 4rem;
  margin-bottom: 1.5rem;
}


/* Unbold all body content */
body, p, li, td, th, blockquote, .content {
  font-weight: 200;
}

strong, b {
  font-weight: 200;
}

th {
  font-weight: 200;
}

h1 {
  font-size: 4.5rem;
  border-bottom: 2px solid var(--color-white-overlay);
  padding-bottom: var(--space-4);
}

h2 {
  border-bottom: 1px solid var(--color-white-overlay);
  padding-bottom: var(--space-3);
}

p {
  line-height: 2rem;
  margin: var(--space-4) 0;
}

/* ===== Links ===== */

a,
a:link,
a:visited,
.content a:link,
.content a:visited,
#searchresults a {
  color: var(--color-success) !important;
  text-decoration: none;
  transition: color var(--transition-fast);
}

a:hover,
.content a:hover,
#searchresults a:hover {
  color: var(--color-white) !important;
  text-decoration: underline;
}

/* Header anchor links must be white, not green */
.content h1 a.header,
.content h2 a.header,
.content h3 a.header,
.content h4 a.header,
.content h5 a.header,
.content h6 a.header,
h1 a, h2 a, h3 a, h4 a, h5 a, h6 a,
h1 a:link, h2 a:link, h3 a:link, h4 a:link, h5 a:link, h6 a:link,
h1 a:visited, h2 a:visited, h3 a:visited, h4 a:visited, h5 a:visited, h6 a:visited,
h1 a:hover, h2 a:hover, h3 a:hover, h4 a:hover, h5 a:hover, h6 a:hover {
  color: var(--color-white) !important;
  text-decoration: none !important;
}

/* ===== Code Blocks ===== */

code {
  font-family: var(--font-family-mono);
  background: var(--color-white-overlay);
  padding: 0.125rem 0.375rem;
  border-radius: var(--radius-sm);
  font-size: 0.9em;
  color: #c586c0;
}

pre {
  background: var(--color-black) !important;
  border: 1px solid var(--color-grey);
  border-radius: var(--radius-md);
  padding: var(--space-4);
  overflow-x: auto;
  margin: var(--space-6) 0;
}

pre code {
  background: var(--color-black) !important;
  padding: 0;
  color: var(--color-white);
}

/* ===== Tables ===== */

table {
  width: 100%;
  border-collapse: collapse;
  margin: var(--space-6) 0;
  background: var(--color-white-overlay);
  border-radius: var(--radius-md);
  overflow: hidden;
}

thead {
  background: var(--color-white-overlay);
}

th {
  padding: var(--space-3) var(--space-4);
  text-align: left;
  color: var(--color-white);
  font-weight: 200;
  border-bottom: 2px solid var(--color-white-overlay);
}

td {
  padding: var(--space-3) var(--space-4);
  border-bottom: 1px solid var(--color-white-overlay);
}

tr:last-child td {
  border-bottom: none;
}

tr:hover {
  background: rgba(255, 255, 255, 0.03);
}

/* ===== Blockquotes ===== */

blockquote {
  border-left: 4px solid var(--color-info);
  padding: var(--space-2) var(--space-4);
  margin: var(--space-6) 0;
  background: var(--color-white-overlay);
  border-radius: var(--radius-sm);
  color: var(--color-white);
}

blockquote p {
  margin: 0;
}

/* Warning/Note/Tip blocks */
blockquote:has(strong:first-child) {
  border-left-width: 4px;
}

blockquote strong:first-child {
  display: block;
  margin-bottom: var(--space-2);
  font-weight: 200;
}

/* ===== Lists ===== */

ul, ol {
  padding-left: var(--space-6);
  margin: var(--space-4) 0;
  line-height: 2rem;
}

li {
  margin: var(--space-2) 0;
}

/* ===== Navigation Buttons ===== */

.nav-wrapper {
  margin-top: var(--space-12);
  padding-top: var(--space-6);
  border-top: 1px solid var(--color-white-overlay);
  display: flex;
  justify-content: space-between;
}

.nav-wrapper a {
  background: var(--color-white-overlay);
  padding: var(--space-3) var(--space-6);
  border-radius: var(--radius-md);
  color: var(--color-info);
  text-decoration: none;
  transition: all var(--transition-base);
  border: 1px solid transparent;
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.nav-wrapper a:hover {
  background: rgba(86, 156, 214, 0.2);
  border-color: var(--color-info);
  transform: translateY(-2px);
}

.nav-prev {
  margin-right: auto;
}

.nav-next {
  margin-left: auto;
}

/* ===== Horizontal Rules ===== */

hr {
  border: none;
  border-top: 1px solid var(--color-white-overlay);
  margin: var(--space-8) 0;
}

/* ===== Yeti Header ===== */

.yeti-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 200;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 73px;
  min-height: 73px;
  padding: 0 3rem;
  border-bottom: 1px solid var(--color-white-overlay);
  background: var(--color-black);
  flex-shrink: 0;
}

/* Push body content below fixed header */
#body-container {
  margin-top: 73px;
}

.yeti-header .header-left {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.yeti-header .header-center {
  flex: 1;
  display: flex;
  justify-content: center;
  padding: 0 2rem;
}

.yeti-header .header-right {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.yeti-header .header-logo {
  height: 40px;
  width: auto;
  display: block;
}

.yeti-header .header-title {
  font-size: 20px !important;
  font-weight: 700 !important;
  color: var(--color-white) !important;
  margin: 0 !important;
  border: none !important;
  padding: 0 !important;
  line-height: 1 !important;
}

/* Header search bar */
.header-search {
  position: relative;
  width: 100%;
  max-width: 500px;
}

/* Never hide the search wrapper ‚Äî it's always visible in the header */
#search-wrapper.hidden {
  display: flex !important;
}

.header-search-form {
  width: 100%;
  margin: 0;
}

.header-search-icon {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--color-grey);
  font-size: 16px;
  pointer-events: none;
  z-index: 1;
}

.yeti-header #searchbar {
  width: 100%;
  height: 42px;
  padding: 0 16px 0 40px;
  background: var(--color-white-overlay);
  border: 1px solid var(--color-white-overlay);
  border-radius: var(--radius-md);
  color: var(--color-white);
  font-family: var(--font-family-base);
  font-size: 16px;
  outline: none;
  transition: border-color var(--transition-fast);
  box-sizing: border-box;
}

.yeti-header #searchbar:focus {
  border-color: var(--color-info);
}

.yeti-header #searchbar::placeholder {
  color: var(--color-grey);
}

/* Hide the default mdBook menu bar (replaced by yeti-header) */
.menu-bar,
#menu-bar,
#menu-bar-hover-placeholder {
  display: none !important;
}

/* ===== Search Bar ===== */

#searchbar {
  background: var(--color-white-overlay);
  border: 1px solid var(--color-white-overlay);
  color: var(--color-white);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}

#searchbar:focus {
  outline: none;
  border-color: var(--color-info);
  background: rgba(86, 156, 214, 0.1);
}

#searchresults-outer {
  background: var(--color-black);
  border: 1px solid var(--color-info);
  border-radius: var(--radius-md);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
}

#searchresults {
  background: var(--color-black);
}

.searchresult-outer {
  border-bottom: 1px solid var(--color-white-overlay);
}

.searchresult-outer:hover {
  background: var(--color-white-overlay);
}

.searchresult-header {
  color: var(--color-info);
  font-weight: 200;
}

.searchresult-body {
  color: var(--color-white);
}

mark {
  background: rgba(215, 186, 125, 0.3);
  color: var(--color-warning);
  padding: 0.125rem 0.25rem;
  border-radius: var(--radius-sm);
}

/* ===== Theme Toggle Button ===== */

#theme-toggle {
  display: none; /* Hide theme toggle since we're using fixed dark theme */
}

/* ===== Scrollbar Styling ===== */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-black);
}

::-webkit-scrollbar-thumb {
  background: var(--color-grey);
  border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-info);
}

/* ===== Print Styles ===== */

#print-button {
  color: var(--color-white);
}

/* ===== Mobile Responsiveness ===== */

@media (max-width: 768px) {
  .content {
    padding: var(--space-4);
  }

  h1, h2, h3, h4, h5, h6 {
    font-size: 3rem;
  }

  .nav-chapters {
    flex-direction: column;
  }
}

/* ===== Status Badges (for API compatibility tables, etc) ===== */

.content table td:has(> *:only-child):only-child {
  text-align: left;
}

/* Success indicators (‚úÖ, Complete, etc) */
td:has(‚úÖ),
td > :contains("Complete"),
td > :contains("‚úÖ") {
  color: var(--color-success);
}

/* Warning indicators (üöß, In Progress, etc) */
td:has(üöß),
td > :contains("In Progress"),
td > :contains("üöß") {
  color: var(--color-warning);
}

/* Info indicators (üìã, Planned, etc) */
td:has(üìã),
td > :contains("Planned"),
td > :contains("üìã") {
  color: var(--color-info);
}

/* Error indicators (‚ùå, Not Planned, etc) */
td:has(‚ùå),
td > :contains("Not Planned"),
td > :contains("‚ùå") {
  color: var(--color-error);
}

/* ===== Code Language Labels ===== */

pre[class*="language-"] {
  position: relative;
}

/* ===== Utility Classes ===== */

.text-center {
  text-align: center;
}

.text-muted {
  color: var(--color-grey);
}

.text-success {
  color: var(--color-success);
}

.text-warning {
  color: var(--color-warning);
}

.text-error {
  color: var(--color-error);
}

.text-info {
  color: var(--color-info);
}

/* ===== Footer / Edit Links ===== */

.page footer {
  margin-top: var(--space-12);
  padding-top: var(--space-6);
  border-top: 1px solid var(--color-white-overlay);
  color: var(--color-grey);
  font-size: 0.9em;
}

.page footer a {
  color: var(--color-info);
}

/* ===== Admonitions / Callouts ===== */

.warning,
.note,
.tip {
  padding: var(--space-4);
  border-radius: var(--radius-md);
  margin: var(--space-6) 0;
  border-left: 4px solid;
}

.warning {
  background: rgba(215, 186, 125, 0.1);
  border-left-color: var(--color-warning);
}

.note {
  background: rgba(86, 156, 214, 0.1);
  border-left-color: var(--color-info);
}

.tip {
  background: rgba(255, 0, 255, 0.1);
  border-left-color: var(--color-success);
}

/* ===== Loading Spinner ===== */

.spinner {
  border: 3px solid var(--color-white-overlay);
  border-top: 3px solid var(--color-info);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ===== Hero Section (for README/index pages) ===== */

.hero {
  text-align: center;
  padding: var(--space-12) 0;
  margin-bottom: var(--space-8);
}

.hero h1 {
  font-size: 4.5rem;
  margin-bottom: var(--space-4);
  background: linear-gradient(135deg, var(--color-white) 0%, var(--color-info) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero p {
  font-size: 1.25rem;
  color: var(--color-grey);
  max-width: 600px;
  margin: 0 auto;
}
